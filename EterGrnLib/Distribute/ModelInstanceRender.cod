; Listing generated by Microsoft (R) Optimizing Compiler Version 19.43.34808.0 

	TITLE	C:\Marty 5.5\Src-Client\Client\eterGrnLib\Distribute\ModelInstanceRender.obj
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_H@YGXPAXIIP6EPAX0@Z@Z			; `vector constructor iterator'
PUBLIC	?DeformNoSkin@CGrannyModelInstance@@QAEXPBUD3DXMATRIX@@@Z ; CGrannyModelInstance::DeformNoSkin
PUBLIC	?RenderWithOneTexture@CGrannyModelInstance@@QAEXXZ ; CGrannyModelInstance::RenderWithOneTexture
PUBLIC	?RenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ ; CGrannyModelInstance::RenderWithTwoTexture
PUBLIC	?BlendRenderWithOneTexture@CGrannyModelInstance@@QAEXXZ ; CGrannyModelInstance::BlendRenderWithOneTexture
PUBLIC	?BlendRenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ ; CGrannyModelInstance::BlendRenderWithTwoTexture
PUBLIC	?RenderWithoutTexture@CGrannyModelInstance@@QAEXXZ ; CGrannyModelInstance::RenderWithoutTexture
PUBLIC	?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture
PUBLIC	?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture
PUBLIC	?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture
PUBLIC	?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
PUBLIC	__real@34000000
PUBLIC	__xmm@7fffffff7fffffff7fffffff7fffffff
EXTRN	?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z:PROC ; CStateManager::SetTexture
EXTRN	?SetVertexShader@CStateManager@@QAEXK@Z:PROC	; CStateManager::SetVertexShader
EXTRN	?SetTransform@CStateManager@@QAEXW4_D3DTRANSFORMSTATETYPE@@PBU_D3DMATRIX@@@Z:PROC ; CStateManager::SetTransform
EXTRN	?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z:PROC ; CStateManager::SetStreamSource
EXTRN	?SetIndices@CStateManager@@QAEXPAUIDirect3DIndexBuffer8@@I@Z:PROC ; CStateManager::SetIndices
EXTRN	?DrawIndexedPrimitive@CStateManager@@QAEJW4_D3DPRIMITIVETYPE@@IIII@Z:PROC ; CStateManager::DrawIndexedPrimitive
EXTRN	?SetSpecularInfo@CGrannyMaterial@@QAEXHME@Z:PROC ; CGrannyMaterial::SetSpecularInfo
EXTRN	?ApplyRenderState@CGrannyMaterial@@QAEXXZ:PROC	; CGrannyMaterial::ApplyRenderState
EXTRN	?RestoreRenderState@CGrannyMaterial@@QAEXXZ:PROC ; CGrannyMaterial::RestoreRenderState
EXTRN	?GetD3DTexture@CGrannyMaterial@@QBEPAUIDirect3DTexture8@@H@Z:PROC ; CGrannyMaterial::GetD3DTexture
EXTRN	?GetSpecularPower@CGrannyMaterial@@QBEMXZ:PROC	; CGrannyMaterial::GetSpecularPower
EXTRN	?GetMaterialRef@CGrannyMaterialPalette@@QAEAAVCGrannyMaterial@@K@Z:PROC ; CGrannyMaterialPalette::GetMaterialRef
EXTRN	?GetVertexCount@CGrannyMesh@@QBEHXZ:PROC	; CGrannyMesh::GetVertexCount
EXTRN	?GetVertexBasePosition@CGrannyMesh@@QBEHXZ:PROC	; CGrannyMesh::GetVertexBasePosition
EXTRN	?GetTriGroupNodeList@CGrannyMesh@@QBEPBUSTriGroupNode@1@W4EType@CGrannyMaterial@@@Z:PROC ; CGrannyMesh::GetTriGroupNodeList
EXTRN	?GetPNTD3DVertexBuffer@CGrannyModel@@QBEPAUIDirect3DVertexBuffer8@@XZ:PROC ; CGrannyModel::GetPNTD3DVertexBuffer
EXTRN	?GetD3DIndexBuffer@CGrannyModel@@QBEPAUIDirect3DIndexBuffer8@@XZ:PROC ; CGrannyModel::GetD3DIndexBuffer
EXTRN	?GetMeshNodeList@CGrannyModel@@QBEPBUSMeshNode@1@W4EType@CGrannyMesh@@W43CGrannyMaterial@@@Z:PROC ; CGrannyModel::GetMeshNodeList
EXTRN	?IsEmpty@CGrannyModelInstance@@QAE_NXZ:PROC	; CGrannyModelInstance::IsEmpty
EXTRN	?__GetDeformableD3DVertexBufferPtr@CGrannyModelInstance@@IAEPAUIDirect3DVertexBuffer8@@XZ:PROC ; CGrannyModelInstance::__GetDeformableD3DVertexBufferPtr
EXTRN	?UpdateWorldPose@CGrannyModelInstance@@IAEXXZ:PROC ; CGrannyModelInstance::UpdateWorldPose
EXTRN	?UpdateWorldMatrices@CGrannyModelInstance@@IAEXPBUD3DXMATRIX@@@Z:PROC ; CGrannyModelInstance::UpdateWorldMatrices
EXTRN	?ms_faceCount@CGraphicBase@@1KA:DWORD		; CGraphicBase::ms_faceCount
EXTRN	?ms_pntVS@CGraphicBase@@1KA:DWORD		; CGraphicBase::ms_pntVS
EXTRN	__fltused:DWORD
;	COMDAT ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A
_BSS	SEGMENT
?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A DD 01H DUP (?) ; CSingleton<CStateManager>::ms_singleton
_BSS	ENDS
;	COMDAT __xmm@7fffffff7fffffff7fffffff7fffffff
CONST	SEGMENT
__xmm@7fffffff7fffffff7fffffff7fffffff DB 0ffH, 0ffH, 0ffH, 07fH, 0ffH, 0ffH
	DB	0ffH, 07fH, 0ffH, 0ffH, 0ffH, 07fH, 0ffH, 0ffH, 0ffH, 07fH
CONST	ENDS
;	COMDAT __real@34000000
CONST	SEGMENT
__real@34000000 DD 034000000r			; 1.19209e-07
CONST	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z
_TEXT	SEGMENT
_this$1$ = -8						; size = 4
_lpd3dIdxBuf$1$ = -4					; size = 4
_eMeshType$ = 8						; size = 4
_eMtrlType$ = 12					; size = 4
?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z PROC ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture, COMDAT
; _this$ = ecx

; 279  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	8b f1		 mov	 esi, ecx
  0000a	89 75 f8	 mov	 DWORD PTR _this$1$[ebp], esi

; 280  : 	assert(m_pModel != NULL);
; 281  : 
; 282  : 	LPDIRECT3DINDEXBUFFER8 lpd3dIdxBuf = m_pModel->GetD3DIndexBuffer();

  0000d	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  00010	e8 00 00 00 00	 call	 ?GetD3DIndexBuffer@CGrannyModel@@QBEPAUIDirect3DIndexBuffer8@@XZ ; CGrannyModel::GetD3DIndexBuffer

; 283  : 	assert(lpd3dIdxBuf != NULL);
; 284  : 
; 285  : 	const CGrannyModel::TMeshNode * pMeshNode = m_pModel->GetMeshNodeList(eMeshType, eMtrlType);

  00015	ff 75 0c	 push	 DWORD PTR _eMtrlType$[ebp]
  00018	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  0001b	ff 75 08	 push	 DWORD PTR _eMeshType$[ebp]
  0001e	89 45 fc	 mov	 DWORD PTR _lpd3dIdxBuf$1$[ebp], eax
  00021	e8 00 00 00 00	 call	 ?GetMeshNodeList@CGrannyModel@@QBEPBUSMeshNode@1@W4EType@CGrannyMesh@@W43CGrannyMaterial@@@Z ; CGrannyModel::GetMeshNodeList
  00026	8b d8		 mov	 ebx, eax

; 286  : 
; 287  : 	while (pMeshNode)

  00028	85 db		 test	 ebx, ebx
  0002a	0f 84 80 00 00
	00		 je	 $LN3@RenderMesh
  00030	57		 push	 edi
$LL2@RenderMesh:

; 288  : 	{
; 289  : 		const CGrannyMesh * pMesh = pMeshNode->pMesh;

  00031	8b 7b 04	 mov	 edi, DWORD PTR [ebx+4]

; 290  : 		int vtxMeshBasePos = pMesh->GetVertexBasePosition();

  00034	8b cf		 mov	 ecx, edi
  00036	e8 00 00 00 00	 call	 ?GetVertexBasePosition@CGrannyMesh@@QBEHXZ ; CGrannyMesh::GetVertexBasePosition

; 291  : 
; 292  : 		STATEMANAGER.SetIndices(lpd3dIdxBuf, vtxMeshBasePos);

  0003b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00041	50		 push	 eax
  00042	ff 75 fc	 push	 DWORD PTR _lpd3dIdxBuf$1$[ebp]
  00045	e8 00 00 00 00	 call	 ?SetIndices@CStateManager@@QAEXPAUIDirect3DIndexBuffer8@@I@Z ; CStateManager::SetIndices

; 293  : 		STATEMANAGER.SetTransform(D3DTS_WORLD, &m_meshMatrices[pMeshNode->iMesh]);

  0004a	8b 03		 mov	 eax, DWORD PTR [ebx]
  0004c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00052	c1 e0 06	 shl	 eax, 6
  00055	03 46 14	 add	 eax, DWORD PTR [esi+20]
  00058	50		 push	 eax
  00059	68 00 01 00 00	 push	 256			; 00000100H
  0005e	e8 00 00 00 00	 call	 ?SetTransform@CStateManager@@QAEXW4_D3DTRANSFORMSTATETYPE@@PBU_D3DMATRIX@@@Z ; CStateManager::SetTransform

; 294  : 
; 295  : 		/////
; 296  : 		const CGrannyMesh::TTriGroupNode* pTriGroupNode = pMesh->GetTriGroupNodeList(eMtrlType);

  00063	ff 75 0c	 push	 DWORD PTR _eMtrlType$[ebp]
  00066	8b cf		 mov	 ecx, edi
  00068	e8 00 00 00 00	 call	 ?GetTriGroupNodeList@CGrannyMesh@@QBEPBUSTriGroupNode@1@W4EType@CGrannyMaterial@@@Z ; CGrannyMesh::GetTriGroupNodeList

; 297  : 		int vtxCount = pMesh->GetVertexCount();

  0006d	8b cf		 mov	 ecx, edi
  0006f	8b f0		 mov	 esi, eax
  00071	e8 00 00 00 00	 call	 ?GetVertexCount@CGrannyMesh@@QBEHXZ ; CGrannyMesh::GetVertexCount
  00076	8b f8		 mov	 edi, eax

; 298  : 
; 299  : 		while (pTriGroupNode)

  00078	85 f6		 test	 esi, esi
  0007a	74 29		 je	 SHORT $LN5@RenderMesh
  0007c	0f 1f 40 00	 npad	 4
$LL4@RenderMesh:

; 300  : 		{
; 301  : 			ms_faceCount += pTriGroupNode->triCount;

  00080	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  00083	01 0d 00 00 00
	00		 add	 DWORD PTR ?ms_faceCount@CGraphicBase@@1KA, ecx ; CGraphicBase::ms_faceCount

; 302  : 			STATEMANAGER.DrawIndexedPrimitive(D3DPT_TRIANGLELIST, 0, vtxCount, pTriGroupNode->idxPos, pTriGroupNode->triCount);

  00089	ff 76 08	 push	 DWORD PTR [esi+8]
  0008c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00092	ff 76 04	 push	 DWORD PTR [esi+4]
  00095	57		 push	 edi
  00096	6a 00		 push	 0
  00098	6a 04		 push	 4
  0009a	e8 00 00 00 00	 call	 ?DrawIndexedPrimitive@CStateManager@@QAEJW4_D3DPRIMITIVETYPE@@IIII@Z ; CStateManager::DrawIndexedPrimitive

; 303  : 			pTriGroupNode = pTriGroupNode->pNextTriGroupNode;

  0009f	8b 36		 mov	 esi, DWORD PTR [esi]
  000a1	85 f6		 test	 esi, esi
  000a3	75 db		 jne	 SHORT $LL4@RenderMesh
$LN5@RenderMesh:

; 304  : 		}
; 305  : 		/////
; 306  : 
; 307  : 		pMeshNode = pMeshNode->pNextMeshNode;

  000a5	8b 5b 08	 mov	 ebx, DWORD PTR [ebx+8]
  000a8	8b 75 f8	 mov	 esi, DWORD PTR _this$1$[ebp]
  000ab	85 db		 test	 ebx, ebx
  000ad	75 82		 jne	 SHORT $LL2@RenderMesh

; 286  : 
; 287  : 	while (pMeshNode)

  000af	5f		 pop	 edi
$LN3@RenderMesh:
  000b0	5e		 pop	 esi

; 308  : 	}
; 309  : }

  000b1	5b		 pop	 ebx
  000b2	8b e5		 mov	 esp, ebp
  000b4	5d		 pop	 ebp
  000b5	c2 08 00	 ret	 8
?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ENDP ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
; File C:\Marty 5.5\Src-Client\Client\eterBase\Singleton.h
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
; File C:\Marty 5.5\Src-Client\Client\eterBase\Singleton.h
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z
_TEXT	SEGMENT
tv220 = -16						; size = 4
_vtxCount$1$ = -12					; size = 4
_lpd3dIdxBuf$1$ = -8					; size = 4
_this$1$ = -4						; size = 4
_eMeshType$ = 8						; size = 4
_pMeshNode$1$ = 8					; size = 4
_eMtrlType$ = 12					; size = 4
?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z PROC ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture, COMDAT
; _this$ = ecx

; 242  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	8b f1		 mov	 esi, ecx
  0000a	89 75 fc	 mov	 DWORD PTR _this$1$[ebp], esi

; 243  : 	assert(m_pModel != NULL);
; 244  : 
; 245  : 	LPDIRECT3DINDEXBUFFER8 lpd3dIdxBuf = m_pModel->GetD3DIndexBuffer();

  0000d	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  00010	e8 00 00 00 00	 call	 ?GetD3DIndexBuffer@CGrannyModel@@QBEPAUIDirect3DIndexBuffer8@@XZ ; CGrannyModel::GetD3DIndexBuffer

; 246  : 	assert(lpd3dIdxBuf != NULL);
; 247  : 
; 248  : 	const CGrannyModel::TMeshNode * pMeshNode = m_pModel->GetMeshNodeList(eMeshType, eMtrlType);

  00015	ff 75 0c	 push	 DWORD PTR _eMtrlType$[ebp]
  00018	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  0001b	ff 75 08	 push	 DWORD PTR _eMeshType$[ebp]
  0001e	89 45 f8	 mov	 DWORD PTR _lpd3dIdxBuf$1$[ebp], eax
  00021	e8 00 00 00 00	 call	 ?GetMeshNodeList@CGrannyModel@@QBEPBUSMeshNode@1@W4EType@CGrannyMesh@@W43CGrannyMaterial@@@Z ; CGrannyModel::GetMeshNodeList
  00026	8b d8		 mov	 ebx, eax
  00028	89 45 08	 mov	 DWORD PTR _pMeshNode$1$[ebp], eax

; 249  : 
; 250  : 	while (pMeshNode)

  0002b	85 db		 test	 ebx, ebx
  0002d	0f 84 da 00 00
	00		 je	 $LN3@RenderMesh
  00033	57		 push	 edi
$LL2@RenderMesh:

; 251  : 	{
; 252  : 		const CGrannyMesh * pMesh = pMeshNode->pMesh;

  00034	8b 7b 04	 mov	 edi, DWORD PTR [ebx+4]

; 253  : 		int vtxMeshBasePos = pMesh->GetVertexBasePosition();

  00037	8b cf		 mov	 ecx, edi
  00039	e8 00 00 00 00	 call	 ?GetVertexBasePosition@CGrannyMesh@@QBEHXZ ; CGrannyMesh::GetVertexBasePosition

; 254  : 
; 255  : 		STATEMANAGER.SetIndices(lpd3dIdxBuf, vtxMeshBasePos);

  0003e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00044	50		 push	 eax
  00045	ff 75 f8	 push	 DWORD PTR _lpd3dIdxBuf$1$[ebp]
  00048	e8 00 00 00 00	 call	 ?SetIndices@CStateManager@@QAEXPAUIDirect3DIndexBuffer8@@I@Z ; CStateManager::SetIndices

; 256  : 		STATEMANAGER.SetTransform(D3DTS_WORLD, &m_meshMatrices[pMeshNode->iMesh]);

  0004d	8b 03		 mov	 eax, DWORD PTR [ebx]
  0004f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00055	c1 e0 06	 shl	 eax, 6
  00058	03 46 14	 add	 eax, DWORD PTR [esi+20]
  0005b	50		 push	 eax
  0005c	68 00 01 00 00	 push	 256			; 00000100H
  00061	e8 00 00 00 00	 call	 ?SetTransform@CStateManager@@QAEXW4_D3DTRANSFORMSTATETYPE@@PBU_D3DMATRIX@@@Z ; CStateManager::SetTransform

; 257  : 
; 258  : 		/////
; 259  : 		const CGrannyMesh::TTriGroupNode* pTriGroupNode = pMesh->GetTriGroupNodeList(eMtrlType);

  00066	ff 75 0c	 push	 DWORD PTR _eMtrlType$[ebp]
  00069	8b cf		 mov	 ecx, edi
  0006b	e8 00 00 00 00	 call	 ?GetTriGroupNodeList@CGrannyMesh@@QBEPBUSTriGroupNode@1@W4EType@CGrannyMaterial@@@Z ; CGrannyMesh::GetTriGroupNodeList

; 260  : 		int vtxCount = pMesh->GetVertexCount();

  00070	8b cf		 mov	 ecx, edi
  00072	8b f0		 mov	 esi, eax
  00074	e8 00 00 00 00	 call	 ?GetVertexCount@CGrannyMesh@@QBEHXZ ; CGrannyMesh::GetVertexCount
  00079	89 45 f4	 mov	 DWORD PTR _vtxCount$1$[ebp], eax

; 261  : 		while (pTriGroupNode)

  0007c	85 f6		 test	 esi, esi
  0007e	74 7b		 je	 SHORT $LN5@RenderMesh
  00080	8b 45 fc	 mov	 eax, DWORD PTR _this$1$[ebp]
  00083	83 c0 2c	 add	 eax, 44			; 0000002cH
  00086	89 45 f0	 mov	 DWORD PTR tv220[ebp], eax
  00089	0f 1f 80 00 00
	00 00		 npad	 7
$LL4@RenderMesh:

; 262  : 		{
; 263  : 			ms_faceCount += pTriGroupNode->triCount;

  00090	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  00093	01 0d 00 00 00
	00		 add	 DWORD PTR ?ms_faceCount@CGraphicBase@@1KA, ecx ; CGraphicBase::ms_faceCount

; 265  : 			const CGrannyMaterial& rkMtrl=m_kMtrlPal.GetMaterialRef(pTriGroupNode->mtrlIndex);

  00099	8b c8		 mov	 ecx, eax
  0009b	ff 76 0c	 push	 DWORD PTR [esi+12]
  0009e	e8 00 00 00 00	 call	 ?GetMaterialRef@CGrannyMaterialPalette@@QAEAAVCGrannyMaterial@@K@Z ; CGrannyMaterialPalette::GetMaterialRef
; File C:\Marty 5.5\Src-Client\Client\eterBase\Singleton.h

; 27   : 		return (*ms_singleton);

  000a3	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp

; 265  : 			const CGrannyMaterial& rkMtrl=m_kMtrlPal.GetMaterialRef(pTriGroupNode->mtrlIndex);

  000a9	8b d8		 mov	 ebx, eax

; 266  : 			STATEMANAGER.SetTexture(0, rkMtrl.GetD3DTexture(0));

  000ab	6a 00		 push	 0
  000ad	8b cb		 mov	 ecx, ebx
  000af	e8 00 00 00 00	 call	 ?GetD3DTexture@CGrannyMaterial@@QBEPAUIDirect3DTexture8@@H@Z ; CGrannyMaterial::GetD3DTexture
  000b4	50		 push	 eax
  000b5	6a 00		 push	 0
  000b7	8b cf		 mov	 ecx, edi
  000b9	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture
; File C:\Marty 5.5\Src-Client\Client\eterBase\Singleton.h

; 27   : 		return (*ms_singleton);

  000be	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp

; 267  : 			STATEMANAGER.SetTexture(1, rkMtrl.GetD3DTexture(1));

  000c4	8b cb		 mov	 ecx, ebx
  000c6	6a 01		 push	 1
  000c8	e8 00 00 00 00	 call	 ?GetD3DTexture@CGrannyMaterial@@QBEPAUIDirect3DTexture8@@H@Z ; CGrannyMaterial::GetD3DTexture
  000cd	50		 push	 eax
  000ce	6a 01		 push	 1
  000d0	8b cf		 mov	 ecx, edi
  000d2	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture

; 268  : 			STATEMANAGER.DrawIndexedPrimitive(D3DPT_TRIANGLELIST, 0, vtxCount, pTriGroupNode->idxPos, pTriGroupNode->triCount);

  000d7	ff 76 08	 push	 DWORD PTR [esi+8]
  000da	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  000e0	ff 76 04	 push	 DWORD PTR [esi+4]
  000e3	ff 75 f4	 push	 DWORD PTR _vtxCount$1$[ebp]
  000e6	6a 00		 push	 0
  000e8	6a 04		 push	 4
  000ea	e8 00 00 00 00	 call	 ?DrawIndexedPrimitive@CStateManager@@QAEJW4_D3DPRIMITIVETYPE@@IIII@Z ; CStateManager::DrawIndexedPrimitive

; 269  : 			pTriGroupNode = pTriGroupNode->pNextTriGroupNode;

  000ef	8b 36		 mov	 esi, DWORD PTR [esi]
  000f1	8b 45 f0	 mov	 eax, DWORD PTR tv220[ebp]
  000f4	85 f6		 test	 esi, esi
  000f6	75 98		 jne	 SHORT $LL4@RenderMesh
  000f8	8b 5d 08	 mov	 ebx, DWORD PTR _pMeshNode$1$[ebp]
$LN5@RenderMesh:

; 270  : 		}
; 271  : 		/////
; 272  : 
; 273  : 		pMeshNode = pMeshNode->pNextMeshNode;

  000fb	8b 5b 08	 mov	 ebx, DWORD PTR [ebx+8]
  000fe	8b 75 fc	 mov	 esi, DWORD PTR _this$1$[ebp]
  00101	89 5d 08	 mov	 DWORD PTR _pMeshNode$1$[ebp], ebx
  00104	85 db		 test	 ebx, ebx
  00106	0f 85 28 ff ff
	ff		 jne	 $LL2@RenderMesh

; 249  : 
; 250  : 	while (pMeshNode)

  0010c	5f		 pop	 edi
$LN3@RenderMesh:
  0010d	5e		 pop	 esi

; 274  : 	}
; 275  : }

  0010e	5b		 pop	 ebx
  0010f	8b e5		 mov	 esp, ebp
  00111	5d		 pop	 ebp
  00112	c2 08 00	 ret	 8
?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ENDP ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
; File D:\Windows Kits\10\Include\10.0.26100.0\ucrt\corecrt_math.h
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z
_TEXT	SEGMENT
tv235 = -24						; size = 4
_vtxCount$1$ = -20					; size = 4
tv229 = -16						; size = 4
tv221 = -12						; size = 4
tv252 = -12						; size = 4
_lpd3dIdxBuf$1$ = -8					; size = 4
_this$1$ = -4						; size = 4
_eMeshType$ = 8						; size = 4
_pMeshNode$1$ = 8					; size = 4
_eMtrlType$ = 12					; size = 4
?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z PROC ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture, COMDAT
; _this$ = ecx

; 193  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	57		 push	 edi
  00007	8b f9		 mov	 edi, ecx
  00009	89 7d fc	 mov	 DWORD PTR _this$1$[ebp], edi

; 194  : 	assert(m_pModel != NULL);
; 195  : 
; 196  : 	LPDIRECT3DINDEXBUFFER8 lpd3dIdxBuf = m_pModel->GetD3DIndexBuffer();

  0000c	8b 4f 04	 mov	 ecx, DWORD PTR [edi+4]
  0000f	e8 00 00 00 00	 call	 ?GetD3DIndexBuffer@CGrannyModel@@QBEPAUIDirect3DIndexBuffer8@@XZ ; CGrannyModel::GetD3DIndexBuffer

; 197  : 	assert(lpd3dIdxBuf != NULL);
; 198  : 
; 199  : 	const CGrannyModel::TMeshNode * pMeshNode = m_pModel->GetMeshNodeList(eMeshType, eMtrlType);

  00014	ff 75 0c	 push	 DWORD PTR _eMtrlType$[ebp]
  00017	8b 4f 04	 mov	 ecx, DWORD PTR [edi+4]
  0001a	ff 75 08	 push	 DWORD PTR _eMeshType$[ebp]
  0001d	89 45 f8	 mov	 DWORD PTR _lpd3dIdxBuf$1$[ebp], eax
  00020	e8 00 00 00 00	 call	 ?GetMeshNodeList@CGrannyModel@@QBEPBUSMeshNode@1@W4EType@CGrannyMesh@@W43CGrannyMaterial@@@Z ; CGrannyModel::GetMeshNodeList
  00025	89 45 08	 mov	 DWORD PTR _pMeshNode$1$[ebp], eax

; 200  : 
; 201  : 	while (pMeshNode)

  00028	85 c0		 test	 eax, eax
  0002a	0f 84 18 01 00
	00		 je	 $LN3@RenderMesh
  00030	56		 push	 esi
$LL2@RenderMesh:

; 202  : 	{
; 203  : 		const CGrannyMesh * pMesh = pMeshNode->pMesh;

  00031	8b 70 04	 mov	 esi, DWORD PTR [eax+4]

; 204  : 		int vtxMeshBasePos = pMesh->GetVertexBasePosition();

  00034	8b ce		 mov	 ecx, esi
  00036	e8 00 00 00 00	 call	 ?GetVertexBasePosition@CGrannyMesh@@QBEHXZ ; CGrannyMesh::GetVertexBasePosition

; 205  : 
; 206  : 		STATEMANAGER.SetIndices(lpd3dIdxBuf, vtxMeshBasePos);

  0003b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00041	50		 push	 eax
  00042	ff 75 f8	 push	 DWORD PTR _lpd3dIdxBuf$1$[ebp]
  00045	e8 00 00 00 00	 call	 ?SetIndices@CStateManager@@QAEXPAUIDirect3DIndexBuffer8@@I@Z ; CStateManager::SetIndices

; 207  : 		STATEMANAGER.SetTransform(D3DTS_WORLD, &m_meshMatrices[pMeshNode->iMesh]);

  0004a	8b 4d 08	 mov	 ecx, DWORD PTR _pMeshNode$1$[ebp]
  0004d	8b 01		 mov	 eax, DWORD PTR [ecx]
  0004f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00055	c1 e0 06	 shl	 eax, 6
  00058	03 47 14	 add	 eax, DWORD PTR [edi+20]
  0005b	50		 push	 eax
  0005c	68 00 01 00 00	 push	 256			; 00000100H
  00061	e8 00 00 00 00	 call	 ?SetTransform@CStateManager@@QAEXW4_D3DTRANSFORMSTATETYPE@@PBU_D3DMATRIX@@@Z ; CStateManager::SetTransform

; 208  : 
; 209  : 		/////
; 210  : 		const CGrannyMesh::TTriGroupNode* pTriGroupNode = pMesh->GetTriGroupNodeList(eMtrlType);

  00066	ff 75 0c	 push	 DWORD PTR _eMtrlType$[ebp]
  00069	8b ce		 mov	 ecx, esi
  0006b	e8 00 00 00 00	 call	 ?GetTriGroupNodeList@CGrannyMesh@@QBEPBUSTriGroupNode@1@W4EType@CGrannyMaterial@@@Z ; CGrannyMesh::GetTriGroupNodeList

; 211  : 		int vtxCount = pMesh->GetVertexCount();

  00070	8b ce		 mov	 ecx, esi
  00072	8b f8		 mov	 edi, eax
  00074	e8 00 00 00 00	 call	 ?GetVertexCount@CGrannyMesh@@QBEHXZ ; CGrannyMesh::GetVertexCount
  00079	89 45 ec	 mov	 DWORD PTR _vtxCount$1$[ebp], eax

; 212  : 		while (pTriGroupNode)

  0007c	85 ff		 test	 edi, edi
  0007e	0f 84 af 00 00
	00		 je	 $LN5@RenderMesh
  00084	8b 4d fc	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00087	83 c1 2c	 add	 ecx, 44			; 0000002cH
  0008a	89 4d e8	 mov	 DWORD PTR tv235[ebp], ecx
  0008d	0f 1f 00	 npad	 3
$LL4@RenderMesh:

; 213  : 		{
; 214  : 			ms_faceCount += pTriGroupNode->triCount;

  00090	8b 47 08	 mov	 eax, DWORD PTR [edi+8]
  00093	01 05 00 00 00
	00		 add	 DWORD PTR ?ms_faceCount@CGraphicBase@@1KA, eax ; CGraphicBase::ms_faceCount

; 215  : 
; 216  : 			CGrannyMaterial& rkMtrl=m_kMtrlPal.GetMaterialRef(pTriGroupNode->mtrlIndex);

  00099	ff 77 0c	 push	 DWORD PTR [edi+12]
  0009c	e8 00 00 00 00	 call	 ?GetMaterialRef@CGrannyMaterialPalette@@QAEAAVCGrannyMaterial@@K@Z ; CGrannyMaterialPalette::GetMaterialRef
  000a1	8b f0		 mov	 esi, eax

; 217  : 
; 218  : 	//@natanek30
; 219  : 		if (!material_data_.pImage)

  000a3	8b 45 fc	 mov	 eax, DWORD PTR _this$1$[ebp]
  000a6	83 78 78 00	 cmp	 DWORD PTR [eax+120], 0
  000aa	75 54		 jne	 SHORT $LN7@RenderMesh

; 221  : 			if (std::fabs(rkMtrl.GetSpecularPower() - material_data_.fSpecularPower) >= std::numeric_limits<float>::epsilon())

  000ac	f3 0f 10 40 7c	 movss	 xmm0, DWORD PTR [eax+124]
  000b1	8b ce		 mov	 ecx, esi
  000b3	f3 0f 11 45 f0	 movss	 DWORD PTR tv229[ebp], xmm0
  000b8	f3 0f 11 45 f4	 movss	 DWORD PTR tv221[ebp], xmm0
  000bd	e8 00 00 00 00	 call	 ?GetSpecularPower@CGrannyMaterial@@QBEMXZ ; CGrannyMaterial::GetSpecularPower
  000c2	d8 65 f4	 fsub	 DWORD PTR tv221[ebp]
  000c5	d9 5d f4	 fstp	 DWORD PTR tv252[ebp]
  000c8	f3 0f 10 45 f4	 movss	 xmm0, DWORD PTR tv252[ebp]
; File D:\Windows Kits\10\Include\10.0.26100.0\ucrt\corecrt_math.h

; 720  :             return (float)fabs(_X);

  000cd	0f 54 05 00 00
	00 00		 andps	 xmm0, DWORD PTR __xmm@7fffffff7fffffff7fffffff7fffffff
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp

; 221  : 			if (std::fabs(rkMtrl.GetSpecularPower() - material_data_.fSpecularPower) >= std::numeric_limits<float>::epsilon())

  000d4	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@34000000
  000db	72 23		 jb	 SHORT $LN7@RenderMesh

; 222  : 			{
; 223  : 				rkMtrl.SetSpecularInfo(material_data_.isSpecularEnable, material_data_.fSpecularPower, material_data_.bSphereMapIndex);

  000dd	8b 4d fc	 mov	 ecx, DWORD PTR _this$1$[ebp]
  000e0	f3 0f 10 45 f0	 movss	 xmm0, DWORD PTR tv229[ebp]
  000e5	0f b6 81 84 00
	00 00		 movzx	 eax, BYTE PTR [ecx+132]
  000ec	50		 push	 eax
  000ed	51		 push	 ecx
  000ee	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000f3	ff b1 80 00 00
	00		 push	 DWORD PTR [ecx+128]
  000f9	8b ce		 mov	 ecx, esi
  000fb	e8 00 00 00 00	 call	 ?SetSpecularInfo@CGrannyMaterial@@QAEXHME@Z ; CGrannyMaterial::SetSpecularInfo
$LN7@RenderMesh:

; 224  : 			}
; 225  : 		}
; 226  : 	//@natanek30
; 227  : 
; 228  : 			rkMtrl.ApplyRenderState();

  00100	8b ce		 mov	 ecx, esi
  00102	e8 00 00 00 00	 call	 ?ApplyRenderState@CGrannyMaterial@@QAEXXZ ; CGrannyMaterial::ApplyRenderState

; 229  : 			STATEMANAGER.DrawIndexedPrimitive(D3DPT_TRIANGLELIST, 0, vtxCount, pTriGroupNode->idxPos, pTriGroupNode->triCount);

  00107	ff 77 08	 push	 DWORD PTR [edi+8]
  0010a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00110	ff 77 04	 push	 DWORD PTR [edi+4]
  00113	ff 75 ec	 push	 DWORD PTR _vtxCount$1$[ebp]
  00116	6a 00		 push	 0
  00118	6a 04		 push	 4
  0011a	e8 00 00 00 00	 call	 ?DrawIndexedPrimitive@CStateManager@@QAEJW4_D3DPRIMITIVETYPE@@IIII@Z ; CStateManager::DrawIndexedPrimitive

; 230  : 			rkMtrl.RestoreRenderState();

  0011f	8b ce		 mov	 ecx, esi
  00121	e8 00 00 00 00	 call	 ?RestoreRenderState@CGrannyMaterial@@QAEXXZ ; CGrannyMaterial::RestoreRenderState

; 231  : 
; 232  : 			pTriGroupNode = pTriGroupNode->pNextTriGroupNode;

  00126	8b 3f		 mov	 edi, DWORD PTR [edi]
  00128	8b 4d e8	 mov	 ecx, DWORD PTR tv235[ebp]
  0012b	85 ff		 test	 edi, edi
  0012d	0f 85 5d ff ff
	ff		 jne	 $LL4@RenderMesh
$LN5@RenderMesh:

; 233  : 		}
; 234  : 		/////
; 235  : 
; 236  : 		pMeshNode = pMeshNode->pNextMeshNode;

  00133	8b 45 08	 mov	 eax, DWORD PTR _pMeshNode$1$[ebp]
  00136	8b 7d fc	 mov	 edi, DWORD PTR _this$1$[ebp]
  00139	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0013c	89 45 08	 mov	 DWORD PTR _pMeshNode$1$[ebp], eax
  0013f	85 c0		 test	 eax, eax
  00141	0f 85 ea fe ff
	ff		 jne	 $LL2@RenderMesh

; 200  : 
; 201  : 	while (pMeshNode)

  00147	5e		 pop	 esi
$LN3@RenderMesh:
  00148	5f		 pop	 edi

; 237  : 	}
; 238  : }

  00149	8b e5		 mov	 esp, ebp
  0014b	5d		 pop	 ebp
  0014c	c2 08 00	 ret	 8
?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ENDP ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?RenderWithoutTexture@CGrannyModelInstance@@QAEXXZ
_TEXT	SEGMENT
?RenderWithoutTexture@CGrannyModelInstance@@QAEXXZ PROC	; CGrannyModelInstance::RenderWithoutTexture, COMDAT
; _this$ = ecx

; 156  : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 157  : 	if (IsEmpty())

  00003	e8 00 00 00 00	 call	 ?IsEmpty@CGrannyModelInstance@@QAE_NXZ ; CGrannyModelInstance::IsEmpty
  00008	84 c0		 test	 al, al
  0000a	0f 85 9a 00 00
	00		 jne	 $LN4@RenderWith

; 158  : 		return;
; 159  : 
; 160  : 	STATEMANAGER.SetVertexShader(ms_pntVS);

  00010	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00016	53		 push	 ebx
  00017	57		 push	 edi
  00018	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_pntVS@CGraphicBase@@1KA ; CGraphicBase::ms_pntVS
  0001e	e8 00 00 00 00	 call	 ?SetVertexShader@CStateManager@@QAEXK@Z ; CStateManager::SetVertexShader

; 161  : 	STATEMANAGER.SetTexture(0, NULL);

  00023	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00029	6a 00		 push	 0
  0002b	6a 00		 push	 0
  0002d	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture

; 162  : 	STATEMANAGER.SetTexture(1, NULL);

  00032	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00038	6a 00		 push	 0
  0003a	6a 01		 push	 1
  0003c	e8 00 00 00 00	 call	 ?SetTexture@CStateManager@@QAEXKPAUIDirect3DBaseTexture8@@@Z ; CStateManager::SetTexture

; 163  : 
; 164  : 	// WORK
; 165  : 	LPDIRECT3DVERTEXBUFFER8 lpd3dDeformPNTVtxBuf = __GetDeformableD3DVertexBufferPtr();

  00041	8b ce		 mov	 ecx, esi
  00043	e8 00 00 00 00	 call	 ?__GetDeformableD3DVertexBufferPtr@CGrannyModelInstance@@IAEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModelInstance::__GetDeformableD3DVertexBufferPtr

; 166  : 	// END_OF_WORK
; 167  : 	LPDIRECT3DVERTEXBUFFER8 lpd3dRigidPNTVtxBuf = m_pModel->GetPNTD3DVertexBuffer();

  00048	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  0004b	8b d8		 mov	 ebx, eax
  0004d	e8 00 00 00 00	 call	 ?GetPNTD3DVertexBuffer@CGrannyModel@@QBEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModel::GetPNTD3DVertexBuffer
  00052	8b f8		 mov	 edi, eax

; 168  : 
; 169  : 	if (lpd3dDeformPNTVtxBuf)

  00054	85 db		 test	 ebx, ebx
  00056	74 26		 je	 SHORT $LN3@RenderWith

; 170  : 	{
; 171  : 		STATEMANAGER.SetStreamSource(0, lpd3dDeformPNTVtxBuf, sizeof(TPNTVertex));

  00058	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0005e	6a 20		 push	 32			; 00000020H
  00060	53		 push	 ebx
  00061	6a 00		 push	 0
  00063	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 172  : 		RenderMeshNodeListWithoutTexture(CGrannyMesh::TYPE_DEFORM, CGrannyMaterial::TYPE_DIFFUSE_PNT);

  00068	6a 00		 push	 0
  0006a	6a 01		 push	 1
  0006c	8b ce		 mov	 ecx, esi
  0006e	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture

; 173  : 		RenderMeshNodeListWithoutTexture(CGrannyMesh::TYPE_DEFORM, CGrannyMaterial::TYPE_BLEND_PNT);

  00073	6a 01		 push	 1
  00075	6a 01		 push	 1
  00077	8b ce		 mov	 ecx, esi
  00079	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture
$LN3@RenderWith:

; 174  : 	}
; 175  : 
; 176  : 	if (lpd3dRigidPNTVtxBuf)

  0007e	85 ff		 test	 edi, edi
  00080	74 26		 je	 SHORT $LN13@RenderWith

; 177  : 	{
; 178  : 		STATEMANAGER.SetStreamSource(0, lpd3dRigidPNTVtxBuf, sizeof(TPNTVertex));

  00082	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00088	6a 20		 push	 32			; 00000020H
  0008a	57		 push	 edi
  0008b	6a 00		 push	 0
  0008d	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 179  : 		RenderMeshNodeListWithoutTexture(CGrannyMesh::TYPE_RIGID, CGrannyMaterial::TYPE_DIFFUSE_PNT);

  00092	6a 00		 push	 0
  00094	6a 00		 push	 0
  00096	8b ce		 mov	 ecx, esi
  00098	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture

; 180  : 		RenderMeshNodeListWithoutTexture(CGrannyMesh::TYPE_RIGID, CGrannyMaterial::TYPE_BLEND_PNT);

  0009d	6a 01		 push	 1
  0009f	6a 00		 push	 0
  000a1	8b ce		 mov	 ecx, esi
  000a3	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithoutTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithoutTexture
$LN13@RenderWith:
  000a8	5f		 pop	 edi
  000a9	5b		 pop	 ebx
$LN4@RenderWith:
  000aa	5e		 pop	 esi

; 181  : 	}
; 182  : }

  000ab	c3		 ret	 0
?RenderWithoutTexture@CGrannyModelInstance@@QAEXXZ ENDP	; CGrannyModelInstance::RenderWithoutTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?BlendRenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ
_TEXT	SEGMENT
?BlendRenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ PROC ; CGrannyModelInstance::BlendRenderWithTwoTexture, COMDAT
; _this$ = ecx

; 131  : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 132  : 	if (IsEmpty())

  00003	e8 00 00 00 00	 call	 ?IsEmpty@CGrannyModelInstance@@QAE_NXZ ; CGrannyModelInstance::IsEmpty
  00008	84 c0		 test	 al, al
  0000a	75 66		 jne	 SHORT $LN4@BlendRende

; 133  : 		return;
; 134  : 
; 135  : 	// WORK
; 136  : 	LPDIRECT3DVERTEXBUFFER8 lpd3dDeformPNTVtxBuf = __GetDeformableD3DVertexBufferPtr();

  0000c	53		 push	 ebx
  0000d	57		 push	 edi
  0000e	8b ce		 mov	 ecx, esi
  00010	e8 00 00 00 00	 call	 ?__GetDeformableD3DVertexBufferPtr@CGrannyModelInstance@@IAEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModelInstance::__GetDeformableD3DVertexBufferPtr

; 137  : 	// END_OF_WORK
; 138  : 	LPDIRECT3DVERTEXBUFFER8 lpd3dRigidPNTVtxBuf = m_pModel->GetPNTD3DVertexBuffer();

  00015	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  00018	8b d8		 mov	 ebx, eax
  0001a	e8 00 00 00 00	 call	 ?GetPNTD3DVertexBuffer@CGrannyModel@@QBEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModel::GetPNTD3DVertexBuffer

; 139  : 
; 140  :  	STATEMANAGER.SetVertexShader(ms_pntVS);

  0001f	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_pntVS@CGraphicBase@@1KA ; CGraphicBase::ms_pntVS
  00025	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0002b	8b f8		 mov	 edi, eax
  0002d	e8 00 00 00 00	 call	 ?SetVertexShader@CStateManager@@QAEXK@Z ; CStateManager::SetVertexShader

; 141  : 
; 142  : 	if (lpd3dDeformPNTVtxBuf)

  00032	85 db		 test	 ebx, ebx
  00034	74 1b		 je	 SHORT $LN3@BlendRende

; 143  : 	{
; 144  : 		STATEMANAGER.SetStreamSource(0, lpd3dDeformPNTVtxBuf, sizeof(TPNTVertex));

  00036	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0003c	6a 20		 push	 32			; 00000020H
  0003e	53		 push	 ebx
  0003f	6a 00		 push	 0
  00041	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 145  : 		RenderMeshNodeListWithTwoTexture(CGrannyMesh::TYPE_DEFORM, CGrannyMaterial::TYPE_BLEND_PNT);

  00046	6a 01		 push	 1
  00048	6a 01		 push	 1
  0004a	8b ce		 mov	 ecx, esi
  0004c	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture
$LN3@BlendRende:

; 146  : 	}
; 147  : 
; 148  : 	if (lpd3dRigidPNTVtxBuf)

  00051	85 ff		 test	 edi, edi
  00053	74 1b		 je	 SHORT $LN9@BlendRende

; 149  : 	{
; 150  : 		STATEMANAGER.SetStreamSource(0, lpd3dRigidPNTVtxBuf, sizeof(TPNTVertex));

  00055	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0005b	6a 20		 push	 32			; 00000020H
  0005d	57		 push	 edi
  0005e	6a 00		 push	 0
  00060	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 151  : 		RenderMeshNodeListWithTwoTexture(CGrannyMesh::TYPE_RIGID, CGrannyMaterial::TYPE_BLEND_PNT);

  00065	6a 01		 push	 1
  00067	6a 00		 push	 0
  00069	8b ce		 mov	 ecx, esi
  0006b	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture
$LN9@BlendRende:
  00070	5f		 pop	 edi
  00071	5b		 pop	 ebx
$LN4@BlendRende:
  00072	5e		 pop	 esi

; 152  : 	}
; 153  : }

  00073	c3		 ret	 0
?BlendRenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ ENDP ; CGrannyModelInstance::BlendRenderWithTwoTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?BlendRenderWithOneTexture@CGrannyModelInstance@@QAEXXZ
_TEXT	SEGMENT
?BlendRenderWithOneTexture@CGrannyModelInstance@@QAEXXZ PROC ; CGrannyModelInstance::BlendRenderWithOneTexture, COMDAT
; _this$ = ecx

; 81   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 82   : 	if (IsEmpty())

  00003	e8 00 00 00 00	 call	 ?IsEmpty@CGrannyModelInstance@@QAE_NXZ ; CGrannyModelInstance::IsEmpty
  00008	84 c0		 test	 al, al
  0000a	75 66		 jne	 SHORT $LN4@BlendRende

; 83   : 		return;
; 84   : 
; 85   : 	// WORK
; 86   : 	LPDIRECT3DVERTEXBUFFER8 lpd3dDeformPNTVtxBuf = __GetDeformableD3DVertexBufferPtr();

  0000c	53		 push	 ebx
  0000d	57		 push	 edi
  0000e	8b ce		 mov	 ecx, esi
  00010	e8 00 00 00 00	 call	 ?__GetDeformableD3DVertexBufferPtr@CGrannyModelInstance@@IAEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModelInstance::__GetDeformableD3DVertexBufferPtr

; 87   : 	// END_OF_WORK
; 88   : 	LPDIRECT3DVERTEXBUFFER8 lpd3dRigidPNTVtxBuf = m_pModel->GetPNTD3DVertexBuffer();

  00015	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  00018	8b d8		 mov	 ebx, eax
  0001a	e8 00 00 00 00	 call	 ?GetPNTD3DVertexBuffer@CGrannyModel@@QBEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModel::GetPNTD3DVertexBuffer

; 89   : 
; 90   :  	STATEMANAGER.SetVertexShader(ms_pntVS);

  0001f	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_pntVS@CGraphicBase@@1KA ; CGraphicBase::ms_pntVS
  00025	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0002b	8b f8		 mov	 edi, eax
  0002d	e8 00 00 00 00	 call	 ?SetVertexShader@CStateManager@@QAEXK@Z ; CStateManager::SetVertexShader

; 91   : 
; 92   : 	if (lpd3dDeformPNTVtxBuf)

  00032	85 db		 test	 ebx, ebx
  00034	74 1b		 je	 SHORT $LN3@BlendRende

; 93   : 	{
; 94   : 		STATEMANAGER.SetStreamSource(0, lpd3dDeformPNTVtxBuf, sizeof(TPNTVertex));

  00036	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0003c	6a 20		 push	 32			; 00000020H
  0003e	53		 push	 ebx
  0003f	6a 00		 push	 0
  00041	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 95   : 		RenderMeshNodeListWithOneTexture(CGrannyMesh::TYPE_DEFORM, CGrannyMaterial::TYPE_BLEND_PNT);

  00046	6a 01		 push	 1
  00048	6a 01		 push	 1
  0004a	8b ce		 mov	 ecx, esi
  0004c	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture
$LN3@BlendRende:

; 96   : 	}
; 97   : 
; 98   : 	if (lpd3dRigidPNTVtxBuf)

  00051	85 ff		 test	 edi, edi
  00053	74 1b		 je	 SHORT $LN9@BlendRende

; 99   : 	{
; 100  : 		STATEMANAGER.SetStreamSource(0, lpd3dRigidPNTVtxBuf, sizeof(TPNTVertex));

  00055	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0005b	6a 20		 push	 32			; 00000020H
  0005d	57		 push	 edi
  0005e	6a 00		 push	 0
  00060	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 101  : 		RenderMeshNodeListWithOneTexture(CGrannyMesh::TYPE_RIGID, CGrannyMaterial::TYPE_BLEND_PNT);

  00065	6a 01		 push	 1
  00067	6a 00		 push	 0
  00069	8b ce		 mov	 ecx, esi
  0006b	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture
$LN9@BlendRende:
  00070	5f		 pop	 edi
  00071	5b		 pop	 ebx
$LN4@BlendRende:
  00072	5e		 pop	 esi

; 102  : 	}
; 103  : }

  00073	c3		 ret	 0
?BlendRenderWithOneTexture@CGrannyModelInstance@@QAEXXZ ENDP ; CGrannyModelInstance::BlendRenderWithOneTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?RenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ
_TEXT	SEGMENT
?RenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ PROC	; CGrannyModelInstance::RenderWithTwoTexture, COMDAT
; _this$ = ecx

; 107  : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 108  : 	if (IsEmpty())

  00003	e8 00 00 00 00	 call	 ?IsEmpty@CGrannyModelInstance@@QAE_NXZ ; CGrannyModelInstance::IsEmpty
  00008	84 c0		 test	 al, al
  0000a	75 66		 jne	 SHORT $LN4@RenderWith

; 109  : 		return;
; 110  : 
; 111  : 	STATEMANAGER.SetVertexShader(ms_pntVS);

  0000c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00012	53		 push	 ebx
  00013	57		 push	 edi
  00014	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_pntVS@CGraphicBase@@1KA ; CGraphicBase::ms_pntVS
  0001a	e8 00 00 00 00	 call	 ?SetVertexShader@CStateManager@@QAEXK@Z ; CStateManager::SetVertexShader

; 112  : 
; 113  : 	// WORK
; 114  : 	LPDIRECT3DVERTEXBUFFER8 lpd3dDeformPNTVtxBuf = __GetDeformableD3DVertexBufferPtr();

  0001f	8b ce		 mov	 ecx, esi
  00021	e8 00 00 00 00	 call	 ?__GetDeformableD3DVertexBufferPtr@CGrannyModelInstance@@IAEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModelInstance::__GetDeformableD3DVertexBufferPtr

; 115  : 	// END_OF_WORK
; 116  : 	LPDIRECT3DVERTEXBUFFER8 lpd3dRigidPNTVtxBuf = m_pModel->GetPNTD3DVertexBuffer();

  00026	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  00029	8b d8		 mov	 ebx, eax
  0002b	e8 00 00 00 00	 call	 ?GetPNTD3DVertexBuffer@CGrannyModel@@QBEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModel::GetPNTD3DVertexBuffer
  00030	8b f8		 mov	 edi, eax

; 117  : 
; 118  : 	if (lpd3dDeformPNTVtxBuf)

  00032	85 db		 test	 ebx, ebx
  00034	74 1b		 je	 SHORT $LN3@RenderWith

; 119  : 	{
; 120  : 		STATEMANAGER.SetStreamSource(0, lpd3dDeformPNTVtxBuf, sizeof(TPNTVertex));

  00036	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0003c	6a 20		 push	 32			; 00000020H
  0003e	53		 push	 ebx
  0003f	6a 00		 push	 0
  00041	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 121  : 		RenderMeshNodeListWithTwoTexture(CGrannyMesh::TYPE_DEFORM, CGrannyMaterial::TYPE_DIFFUSE_PNT);

  00046	6a 00		 push	 0
  00048	6a 01		 push	 1
  0004a	8b ce		 mov	 ecx, esi
  0004c	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture
$LN3@RenderWith:

; 122  : 	}
; 123  : 	if (lpd3dRigidPNTVtxBuf)

  00051	85 ff		 test	 edi, edi
  00053	74 1b		 je	 SHORT $LN9@RenderWith

; 124  : 	{
; 125  : 		STATEMANAGER.SetStreamSource(0, lpd3dRigidPNTVtxBuf, sizeof(TPNTVertex));

  00055	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0005b	6a 20		 push	 32			; 00000020H
  0005d	57		 push	 edi
  0005e	6a 00		 push	 0
  00060	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 126  : 		RenderMeshNodeListWithTwoTexture(CGrannyMesh::TYPE_RIGID, CGrannyMaterial::TYPE_DIFFUSE_PNT);

  00065	6a 00		 push	 0
  00067	6a 00		 push	 0
  00069	8b ce		 mov	 ecx, esi
  0006b	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithTwoTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithTwoTexture
$LN9@RenderWith:
  00070	5f		 pop	 edi
  00071	5b		 pop	 ebx
$LN4@RenderWith:
  00072	5e		 pop	 esi

; 127  : 	}
; 128  : }

  00073	c3		 ret	 0
?RenderWithTwoTexture@CGrannyModelInstance@@QAEXXZ ENDP	; CGrannyModelInstance::RenderWithTwoTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?RenderWithOneTexture@CGrannyModelInstance@@QAEXXZ
_TEXT	SEGMENT
?RenderWithOneTexture@CGrannyModelInstance@@QAEXXZ PROC	; CGrannyModelInstance::RenderWithOneTexture, COMDAT
; _this$ = ecx

; 49   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 50   : 	if (IsEmpty())

  00003	e8 00 00 00 00	 call	 ?IsEmpty@CGrannyModelInstance@@QAE_NXZ ; CGrannyModelInstance::IsEmpty
  00008	84 c0		 test	 al, al
  0000a	75 66		 jne	 SHORT $LN4@RenderWith

; 51   : 		return;
; 52   : 
; 53   : #ifdef _TEST
; 54   : 	Granny_RenderBoxBones(GrannyGetSourceSkeleton(m_pgrnModelInstance), m_pgrnWorldPose, TEST_matWorld);
; 55   : 	if (GetAsyncKeyState('P'))
; 56   : 		Tracef("render %x", m_pgrnModelInstance);
; 57   : 	return;
; 58   : #endif
; 59   : 
; 60   : 	STATEMANAGER.SetVertexShader(ms_pntVS);

  0000c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  00012	53		 push	 ebx
  00013	57		 push	 edi
  00014	ff 35 00 00 00
	00		 push	 DWORD PTR ?ms_pntVS@CGraphicBase@@1KA ; CGraphicBase::ms_pntVS
  0001a	e8 00 00 00 00	 call	 ?SetVertexShader@CStateManager@@QAEXK@Z ; CStateManager::SetVertexShader

; 61   : 
; 62   : 	// WORK
; 63   : 	LPDIRECT3DVERTEXBUFFER8 lpd3dDeformPNTVtxBuf = __GetDeformableD3DVertexBufferPtr();

  0001f	8b ce		 mov	 ecx, esi
  00021	e8 00 00 00 00	 call	 ?__GetDeformableD3DVertexBufferPtr@CGrannyModelInstance@@IAEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModelInstance::__GetDeformableD3DVertexBufferPtr

; 64   : 	// END_OF_WORK
; 65   : 
; 66   : 	LPDIRECT3DVERTEXBUFFER8 lpd3dRigidPNTVtxBuf = m_pModel->GetPNTD3DVertexBuffer();

  00026	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  00029	8b d8		 mov	 ebx, eax
  0002b	e8 00 00 00 00	 call	 ?GetPNTD3DVertexBuffer@CGrannyModel@@QBEPAUIDirect3DVertexBuffer8@@XZ ; CGrannyModel::GetPNTD3DVertexBuffer
  00030	8b f8		 mov	 edi, eax

; 67   : 
; 68   : 	if (lpd3dDeformPNTVtxBuf)

  00032	85 db		 test	 ebx, ebx
  00034	74 1b		 je	 SHORT $LN3@RenderWith

; 69   : 	{
; 70   : 		STATEMANAGER.SetStreamSource(0, lpd3dDeformPNTVtxBuf, sizeof(TPNTVertex));

  00036	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0003c	6a 20		 push	 32			; 00000020H
  0003e	53		 push	 ebx
  0003f	6a 00		 push	 0
  00041	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 71   : 		RenderMeshNodeListWithOneTexture(CGrannyMesh::TYPE_DEFORM, CGrannyMaterial::TYPE_DIFFUSE_PNT);

  00046	6a 00		 push	 0
  00048	6a 01		 push	 1
  0004a	8b ce		 mov	 ecx, esi
  0004c	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture
$LN3@RenderWith:

; 72   : 	}
; 73   : 	if (lpd3dRigidPNTVtxBuf)

  00051	85 ff		 test	 edi, edi
  00053	74 1b		 je	 SHORT $LN9@RenderWith

; 74   : 	{
; 75   : 		STATEMANAGER.SetStreamSource(0, lpd3dRigidPNTVtxBuf, sizeof(TPNTVertex));

  00055	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ms_singleton@?$CSingleton@VCStateManager@@@@0PAVCStateManager@@A ; CSingleton<CStateManager>::ms_singleton
  0005b	6a 20		 push	 32			; 00000020H
  0005d	57		 push	 edi
  0005e	6a 00		 push	 0
  00060	e8 00 00 00 00	 call	 ?SetStreamSource@CStateManager@@QAEXIPAUIDirect3DVertexBuffer8@@I@Z ; CStateManager::SetStreamSource

; 76   : 		RenderMeshNodeListWithOneTexture(CGrannyMesh::TYPE_RIGID, CGrannyMaterial::TYPE_DIFFUSE_PNT);

  00065	6a 00		 push	 0
  00067	6a 00		 push	 0
  00069	8b ce		 mov	 ecx, esi
  0006b	e8 00 00 00 00	 call	 ?RenderMeshNodeListWithOneTexture@CGrannyModelInstance@@IAEXW4EType@CGrannyMesh@@W42CGrannyMaterial@@@Z ; CGrannyModelInstance::RenderMeshNodeListWithOneTexture
$LN9@RenderWith:
  00070	5f		 pop	 edi
  00071	5b		 pop	 ebx
$LN4@RenderWith:
  00072	5e		 pop	 esi

; 77   : 	}
; 78   : }

  00073	c3		 ret	 0
?RenderWithOneTexture@CGrannyModelInstance@@QAEXXZ ENDP	; CGrannyModelInstance::RenderWithOneTexture
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Marty 5.5\Src-Client\Client\eterGrnLib\ModelInstanceRender.cpp
;	COMDAT ?DeformNoSkin@CGrannyModelInstance@@QAEXPBUD3DXMATRIX@@@Z
_TEXT	SEGMENT
_c_pWorldMatrix$ = 8					; size = 4
?DeformNoSkin@CGrannyModelInstance@@QAEXPBUD3DXMATRIX@@@Z PROC ; CGrannyModelInstance::DeformNoSkin, COMDAT
; _this$ = ecx

; 30   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx

; 31   : 	if (IsEmpty())

  00006	e8 00 00 00 00	 call	 ?IsEmpty@CGrannyModelInstance@@QAE_NXZ ; CGrannyModelInstance::IsEmpty
  0000b	84 c0		 test	 al, al
  0000d	75 11		 jne	 SHORT $LN1@DeformNoSk

; 32   : 		return;
; 33   : 
; 34   : 	// DELETED
; 35   : 	//m_pgrnWorldPose = m_pgrnWorldPoseReal;
; 36   : 	///////////////////////////////
; 37   : 
; 38   : 	UpdateWorldPose();

  0000f	8b ce		 mov	 ecx, esi
  00011	e8 00 00 00 00	 call	 ?UpdateWorldPose@CGrannyModelInstance@@IAEXXZ ; CGrannyModelInstance::UpdateWorldPose

; 39   : 	UpdateWorldMatrices(c_pWorldMatrix);

  00016	ff 75 08	 push	 DWORD PTR _c_pWorldMatrix$[ebp]
  00019	8b ce		 mov	 ecx, esi
  0001b	e8 00 00 00 00	 call	 ?UpdateWorldMatrices@CGrannyModelInstance@@IAEXPBUD3DXMATRIX@@@Z ; CGrannyModelInstance::UpdateWorldMatrices
$LN1@DeformNoSk:
  00020	5e		 pop	 esi

; 40   : }

  00021	5d		 pop	 ebp
  00022	c2 04 00	 ret	 4
?DeformNoSkin@CGrannyModelInstance@@QAEXPBUD3DXMATRIX@@@Z ENDP ; CGrannyModelInstance::DeformNoSkin
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIIP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIIP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b 75 10	 mov	 esi, DWORD PTR ___n$[ebp]
  00007	85 f6		 test	 esi, esi
  00009	74 16		 je	 SHORT $LN6@vector
  0000b	53		 push	 ebx
  0000c	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000f	57		 push	 edi
  00010	8b 7d 08	 mov	 edi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00013	8b cf		 mov	 ecx, edi
  00015	ff d3		 call	 ebx
  00017	03 7d 0c	 add	 edi, DWORD PTR ___s$[ebp]
  0001a	83 ee 01	 sub	 esi, 1
  0001d	75 f4		 jne	 SHORT $LL2@vector
  0001f	5f		 pop	 edi
  00020	5b		 pop	 ebx
$LN6@vector:
  00021	5e		 pop	 esi
  00022	5d		 pop	 ebp
  00023	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIIP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
END
